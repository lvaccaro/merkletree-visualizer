<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="http://animateddata.co.uk/lab/d3-tree/css/style.css"></link>
    <link rel="stylesheet" href="http://animateddata.co.uk/lab/d3-tree/css/svg.css"></link>
</head>
<body>
<div id="chart">
    <svg>
    </svg>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="http://animateddata.co.uk/lab/d3-tree/js/d3.v3.min.js"></script>
<script src="../dist/lib.js"></script>
<script>

const OpenTimestamps = require('javascript-opentimestamps');
const MerkleTree = OpenTimestamps.MerkleTree;


// Const blockHash = "000000000000000000e45bba92056fab483a3588e4936cc495831728969d749e";
// const blockHash = "000000000003ba27aa200b1cecaad478d2b00432346c3f1f3986da1afd33e506"; // 2 tx
// const blockHash = "0000000000010ac94a7f73848a32a33238e34162df6b4118e6e37fa2ae986e72"; // 3 tx
 const blockHash = "00000000000237a048b03b9faa713cf3d95d25c76f82f8083a1267ee12d74ae9"; // 4 tx
// const blockHash = '000000000000b0b8b4e8105d62300d63c8ec1a1df0af1c2cdbd943b156a8cd79'; // 6 tx
// const blockHash = "00000000000475b5f4f382fe7468e8f2b02e91fb715ac8ed58472ef16d85ffba"; // 8 tx
//const blockHash = "00000000000080b66c911bd5ba14a74260057311eaeb1982802f7010f1a9f090"; // 12 tx
//const blockHash = '000000000000000000e45bba92056fab483a3588e4936cc495831728969d749e';

MerkleTree.tree(blockHash).then( (merkleRoots)=>{
    merkleRoots.forEach(function (stamp,i) {
        console.log(i,'markleRoots',stamp.toString());
    });
    maxDepth = Math.ceil(Math.log(merkleRoots.length) / Math.log(2));
    regenerate(merkleRoots,true);
}).catch(err => {
    console.log("err "+err);
});



</script>

</body>
</html>